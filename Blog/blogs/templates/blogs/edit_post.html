{% extends "blogs/base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'blogs:index' %}">首页</a></li>
                <li class="breadcrumb-item active">编辑博文</li>
            </ol>
        </nav>

        <h2 class="text-primary mb-4">修改：{{ post.title }}</h2>

        <form action="{% url 'blogs:edit_post' post.id %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="mb-3">
                {{ form.as_p }}
            </div>

            {% if post.image %}
                <div class="mb-3">
                    <p class="text-muted small">当前图片：</p>
                    <img src="{{ post.image.url }}" class="img-thumbnail" style="max-width: 200px;">
                </div>
            {% endif %}

            <div class="d-grid gap-2 d-md-block">
                <button name="submit" class="btn btn-primary px-5">保存修改</button>
                <a href="{% url 'blogs:index' %}" class="btn btn-outline-secondary">取消</a>
            </div>
        </form>
    </div>
</div>

<style>
    input[type="text"], textarea, input[type="file"] {
        display: block;
        width: 100%;
        padding: 0.375rem 0.75rem;
        border: 1px solid #ced4da;
        border-radius: 0.375rem;
    }
    textarea { height: 200px; }
</style>
{% endblock content %}